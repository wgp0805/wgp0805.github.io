<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>trunc函数用法</title>
    <link href="/2022/05/28/trunc%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95/"/>
    <url>/2022/05/28/trunc%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>用于截取时间或者数值，返回指定的值 </p>          </div><h3 id="1、截取时间"><a href="#1、截取时间" class="headerlink" title="1、截取时间"></a>1、截取时间</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span>  trunc(to_date(<span class="hljs-string">&#x27;2018-02-01 1:00:00&#x27;</span>,<span class="hljs-string">&#x27;YYYY-MM-DD HH:MI:SS&#x27;</span>),<span class="hljs-string">&#x27;yyyy&#x27;</span>) <span class="hljs-keyword">from</span>   dual ;<span class="hljs-comment">--返回当年第一天</span><br><span class="hljs-keyword">select</span>  trunc(to_date(<span class="hljs-string">&#x27;2018-02-01 1:00:00&#x27;</span>,<span class="hljs-string">&#x27;YYYY-MM-DD HH:MI:SS&#x27;</span>),<span class="hljs-string">&#x27;mm&#x27;</span>) <span class="hljs-keyword">from</span>   dual ; <span class="hljs-comment">--返回当月第一天</span><br><span class="hljs-keyword">select</span>  trunc(to_date(<span class="hljs-string">&#x27;2018-02-01 1:00:00&#x27;</span>,<span class="hljs-string">&#x27;YYYY-MM-DD HH:MI:SS&#x27;</span>),<span class="hljs-string">&#x27;dd&#x27;</span>) <span class="hljs-keyword">from</span>   dual ;<span class="hljs-comment">--返回当前年月</span><br><span class="hljs-keyword">select</span>  trunc(to_date(<span class="hljs-string">&#x27;2018-02-01 1:00:00&#x27;</span>,<span class="hljs-string">&#x27;YYYY-MM-DD HH:MI:SS&#x27;</span>),<span class="hljs-string">&#x27;d&#x27;</span>) <span class="hljs-keyword">from</span>   dual ; <span class="hljs-comment">--返回当前星期的第一天(星期日) </span><br><span class="hljs-keyword">select</span>  trunc(to_date(<span class="hljs-string">&#x27;2018-02-01 1:12:12&#x27;</span>,<span class="hljs-string">&#x27;YYYY-MM-DD HH:MI:SS&#x27;</span>),<span class="hljs-string">&#x27;hh&#x27;</span>) <span class="hljs-keyword">from</span>   dual ;<span class="hljs-comment">--返回当前日期截取到小时,分秒补0</span><br><span class="hljs-keyword">select</span>  trunc(to_date(<span class="hljs-string">&#x27;2018-02-01 1:12:12&#x27;</span>,<span class="hljs-string">&#x27;YYYY-MM-DD HH:MI:SS&#x27;</span>),<span class="hljs-string">&#x27;mi&#x27;</span>) <span class="hljs-keyword">from</span>   dual ;<span class="hljs-comment">--返回当前日期截取到分,秒补0</span><br></code></pre></td></tr></table></figure><h3 id="2、截取数值"><a href="#2、截取数值" class="headerlink" title="2、截取数值"></a>2、截取数值</h3><p>语法：trunc(number,decimals)<br>number:指需要截取的数字</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span>  trunc(<span class="hljs-number">122.555</span>) <span class="hljs-keyword">from</span>  dual t; <span class="hljs-comment">--默认取整</span><br><span class="hljs-keyword">select</span>  trunc(<span class="hljs-number">122.555</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">from</span>  dual t;<br><span class="hljs-keyword">select</span>  trunc(<span class="hljs-number">122.555</span>,<span class="hljs-number">-2</span>) <span class="hljs-keyword">from</span>  dual t;<span class="hljs-comment">--负数表示从小数点左边开始截取2位</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Orcale</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Orcale</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Orcale创建用户和表空间授权过程</title>
    <link href="/2022/05/28/Orcale%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%92%8C%E8%A1%A8%E7%A9%BA%E9%97%B4%E6%8E%88%E6%9D%83%E8%BF%87%E7%A8%8B/"/>
    <url>/2022/05/28/Orcale%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%92%8C%E8%A1%A8%E7%A9%BA%E9%97%B4%E6%8E%88%E6%9D%83%E8%BF%87%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h3 id="Orcale创建用户之前要先创建表空间"><a href="#Orcale创建用户之前要先创建表空间" class="headerlink" title="Orcale创建用户之前要先创建表空间"></a>Orcale创建用户之前要先创建表空间</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>创建表空间<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span>space 表空间名 datafile <span class="hljs-string">&#x27;表空间路径\表空间名.dbf&#x27;&#x27; size 1000m;</span><br><span class="hljs-string"></span><br><span class="hljs-string">//创建用户</span><br><span class="hljs-string">create user 用户名 identified by 密码 default tablespace 表空间名 quota 500m on users;</span><br><span class="hljs-string"></span><br><span class="hljs-string">//给用户授权</span><br><span class="hljs-string">grant all privileges to 用户名;</span><br></code></pre></td></tr></table></figure><p>除了上方还有分别授权的方法</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql">授权<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">create</span> session <span class="hljs-keyword">to</span> 用户名;<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">to</span>  用户名;<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span>space <span class="hljs-keyword">to</span>  用户名;<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> <span class="hljs-keyword">to</span>  用户名;<br></code></pre></td></tr></table></figure><h3 id="Oralce的特殊权限"><a href="#Oralce的特殊权限" class="headerlink" title="Oralce的特殊权限"></a>Oralce的特殊权限</h3><ol><li><p>系统权限unlimited tablespace是隐含在dba, resource角色中的一个系统权限. 当用户得到dba或resource的角色时, unlimited tablespace系统权限也隐式受权给用户.</p></li><li><p>系统权限unlimited tablespace不能被授予role, 可以被授予用户.</p></li><li><p>系统权限unlimited tablespace不会随着resource, dba被授予role而授予给用户</p><h3 id="特殊角色"><a href="#特殊角色" class="headerlink" title="特殊角色"></a>特殊角色</h3></li><li><p>DBA角色，是授权数据库管理员的权限</p></li><li><p>CONNECT角色， 是授予最终用户的典型权利，最基本的 一个（CREATE SESSION）</p></li><li><p>RESOURCE角色，是授予开发人员的 默认有八个权限（CREATE SEQUENCE,CREATE TRIGGER,CREATE CLUSTER,CREATE PROCEDURE,CREATE TYPE,CREATE OPERATOR,CREATE TABLE,CREATE INDEXTYPE）</p></li><li><p>exp_full_database角色，拥有导出数据库的权限</p></li><li><p>imp_full_database角色，拥有导入数据库的权限</p><h3 id="用户授权示"><a href="#用户授权示" class="headerlink" title="用户授权示"></a>用户授权示</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">--授权</span><br><span class="hljs-keyword">GRANT</span><br><span class="hljs-keyword">CONNECT</span>,                <br>RESOURCE,               <br><span class="hljs-comment">--DBA,                  </span><br><span class="hljs-comment">--unlimited tablespace,</span><br><span class="hljs-keyword">CREATE</span>  SESSION,         <br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> SEQUENCE,     <br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>,        <br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">VIEW</span> ,        <br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> INDEX,        <br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">PROCEDURE</span>,    <br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ANY</span> DIRECTORY,    <br><span class="hljs-keyword">ALTER</span>  SESSION, <br><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">ANY</span> SEQUENCE,     <br><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>,        <br><span class="hljs-comment">--ALTER ANY VIEW ,        --不能修改视图</span><br><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">ANY</span> INDEX,        <br><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">PROCEDURE</span>,    <br><span class="hljs-comment">--ALTER ANY DIRECTORY,    --不能修改目录</span><br><span class="hljs-comment">--DROP  SESSION,       --不能删除Session</span><br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">ANY</span> SEQUENCE,     <br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>,        <br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">VIEW</span> ,        <br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">ANY</span> INDEX,        <br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">PROCEDURE</span>,    <br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">ANY</span> DIRECTORY,    <br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>, <br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ANY</span> DICTIONARY,<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>, <br><span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>, <br><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">TABLE</span>,<br>DEBUG <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">PROCEDURE</span>,<br>DEBUG <span class="hljs-keyword">CONNECT</span> SESSION,<br>exp_full_database,  <br>imp_full_database     <br><span class="hljs-keyword">TO</span> xcj01;<br></code></pre></td></tr></table></figure><h4 id="修改密码："><a href="#修改密码：" class="headerlink" title="修改密码："></a>修改密码：</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">user</span> xcj01<br>identified <span class="hljs-keyword">by</span> xcj01;<br></code></pre></td></tr></table></figure><h4 id="删除用户以及跟用户关联的对象："><a href="#删除用户以及跟用户关联的对象：" class="headerlink" title="删除用户以及跟用户关联的对象："></a>删除用户以及跟用户关联的对象：</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">user</span> xcj01 CASCADE;<br></code></pre></td></tr></table></figure><h4 id="查询用户权限和角色"><a href="#查询用户权限和角色" class="headerlink" title="查询用户权限和角色"></a>查询用户权限和角色</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dba_role_privs a <span class="hljs-keyword">where</span> a.grantee<span class="hljs-operator">=</span><span class="hljs-string">&#x27;XCJ01&#x27;</span>;<br><span class="hljs-comment">--或</span><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dba_sys_privs a <span class="hljs-keyword">where</span> a.grantee<span class="hljs-operator">=</span><span class="hljs-string">&#x27;XCJ01&#x27;</span>;<br></code></pre></td></tr></table></figure><h4 id="查看用户拥有哪些权限"><a href="#查看用户拥有哪些权限" class="headerlink" title="查看用户拥有哪些权限"></a>查看用户拥有哪些权限</h4></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ROLE, PRIVILEGE <span class="hljs-keyword">from</span> role_sys_privs <span class="hljs-keyword">where</span> role<span class="hljs-operator">=</span><span class="hljs-string">&#x27;RESOURCE&#x27;</span>;   <span class="hljs-comment">--RESOURCE，CONNECT，DBA</span><br><span class="hljs-comment">--或 </span><br><span class="hljs-keyword">select</span> grantee,privilege <span class="hljs-keyword">from</span> dba_sys_privs <span class="hljs-keyword">where</span> grantee<span class="hljs-operator">=</span><span class="hljs-string">&#x27;RESOURCE&#x27;</span>;<br></code></pre></td></tr></table></figure><h4 id="为用户取消角色"><a href="#为用户取消角色" class="headerlink" title="为用户取消角色"></a>为用户取消角色</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">revoke</span> resource <span class="hljs-keyword">from</span> XCJ01;<br></code></pre></td></tr></table></figure><h4 id="为用户取消权限"><a href="#为用户取消权限" class="headerlink" title="为用户取消权限"></a>为用户取消权限</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">revoke</span> unlimited tablespace <span class="hljs-keyword">from</span> XCJ01;<br></code></pre></td></tr></table></figure><h4 id="最后附加一个非常有用的技巧：查看Oracle的版本号。"><a href="#最后附加一个非常有用的技巧：查看Oracle的版本号。" class="headerlink" title="最后附加一个非常有用的技巧：查看Oracle的版本号。"></a>最后附加一个非常有用的技巧：查看Oracle的版本号。</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> v$version <span class="hljs-keyword">where</span> rownum <span class="hljs-operator">&lt;=</span><span class="hljs-number">1</span>; <br></code></pre></td></tr></table></figure><h4 id="orcale更改表空间名称"><a href="#orcale更改表空间名称" class="headerlink" title="orcale更改表空间名称"></a>orcale更改表空间名称</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span>space 原空间名 rename <span class="hljs-keyword">to</span> 新空间名;<br><br><br><span class="hljs-comment">-- 查询全部表空间名</span><br><span class="hljs-keyword">select</span> name <span class="hljs-keyword">from</span> v$tablespace;<br></code></pre></td></tr></table></figure><h4 id="查看表空间路径"><a href="#查看表空间路径" class="headerlink" title="查看表空间路径"></a>查看表空间路径</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> file_name , tablespace_name <span class="hljs-keyword">from</span> dba_data_files;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dba_data_files;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Orcale</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Orcale</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>时光札记</title>
    <link href="/2022/05/28/sgzj/"/>
    <url>/2022/05/28/sgzj/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>创建之初 </p>          </div><p>最开始做这个博客的时候大约是再去年的时候，但是当时是再CSDN上为了记录一些自己再学习软件开发时记录的笔记和要点的，但是再和弟弟显摆的时候呢，弟弟给我来了个更高端的，发现这个真的时好看到爆炸，关键还是自己的这个引发了我的好奇心，打算也弄一个，但是事与愿违，好多的东西都是似懂非懂，所以左后的成品也是一塌糊涂，也就搁置了，直到前一段时间发现这个东西还是有自己的会好一些，所以趁着业余的时间就又搞起来了，之前也是再学习软件开发的时候老师说的开发人员应该要有一个自己的博客去记录学习和报错的，所以当初创建博客的初心记录东西时小部分去显摆才是大部分，但是再这次创建的时候，我尝试着发布些笔记，陆陆续续的有些笔记上线，发现这个东西真的是越来越有意思。</p><div class="note note-success">            <p>札记之初 </p>          </div><p>之前只是感觉这个上班发布了一些学习的笔记啥的就足够了，但是再今天的时候突然发现其实自己有些小牢骚，小想法也是可以再这个里边去说的呀，所以就创建了这么一个分类——时光札记，本来是看了弟弟的博客，他在记录生活琐事的时候用的叫结绳记事，本想一并照抄，因为感觉这四个字很有深意又那么浅显易懂，为此还特意查了下百度，结绳记事和自己想的到底是不是一会事，网上的解释是：“指远古时代人类，摆脱时空限制记录事实、进行传播的一种手段之一”，这时才发现他取得这个名字是多么的额贴切，但是本着自己那点小虚荣心再作祟，最终还是取了一个自己想要的名字，前四后想最后词汇匮乏，搞出来这么个词，但是也还不错，就是不咋接地气。</p><div class="note note-success">            <p>博客之初 </p>          </div><p>起初的时候，也没想搞这么复杂，弄个博客，一开始的时候只是想把自己的这些笔记有地方存，就寻思直接做个gitbook得了，但是结果发现这个gitbook其实原理上和博客差不多这么一想，还是直接弄个博客吧，关键是还能显摆，但是用过一段时间之后你就会发现这个东西的魅力所在，工作了一天累的要死，你有一百个牢骚要去发，但是你一想回家之后是在家足足等了你一天的老婆和孩子，这时真的不想把这些影响心情的东西带回家，因为这样对他们不公平，但是又想一吐为快，所以这倒是成了一个合适的好地方，生活的点点滴滴组成了这里，柴米油盐变成了生活必然，人生百态又不能一下看破，记录时光组成札记，生活里所有的愉快与不愉快终将变成各个文字，去警醒自己，记录生活，这些记录痕迹就组成了时光，去感悟时光，去记录时光——时光札记</p>]]></content>
    
    
    <categories>
      
      <category>时光札记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>时光札记</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
